<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/lodash.js/4.17.21/lodash.min.js" type="application/javascript"></script>
  <title>Document</title>
</head>
<body>
  <h1>验证死循环问题</h1>
  <h1>F5 刷新页面防抖</h1>
  <button> 点我 </button>
  <script>
    // 页面将卡死
    // while(1) {
    //
    // }
    // while (1) {
    //   await 1;
    // }


    // 递归 直接栈溢出 抛出错误，主线程 结束当前执行
    // function m(){
    //   m();
    // }
    // m();
    // console.log(1)

    function delay(number = 1000) {
      return new Promise(resolve => {
        setTimeout(resolve, number);
      });
      // setTimeout(()=>{console.log(1)}, number)
    }

    // 崩溃
    // while (1) {
    //   delay();
    // }
    // 页面正常
    // async function m(){
    //   await delay();
    //   m();
    // }

    // 递归 微任务时 崩溃 但不爆栈
    // async function m(){
    //   await 1;
    //   m();
    // }

    // async function m(){
    //   await 1;
    //   m();
    // }
    //
    // m();

    // 不崩溃 edge 但行为不同 不崩溃 - chorme 但有存在问题
    // while (1) {
    //   await 1;
    // }

  </script>
</body>
</html>