<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>ç®—æ³•é¢˜ä¸­æ¯”è¾ƒéš¾çš„-åŠ¨æ€è§„èŒƒé—®é¢˜</title>
</head>
<body>
<ul>
  <li>å…³é”®æ˜¯æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹</li>
  <li>dp(n) = dp(n-1) + dp(n-2) -- æ–æ³¢é‚£å¥‘æ•°åˆ—</li>
  <li>ğŸ¸è·³å°é˜¶ nä¸ªå°é˜¶æœ‰å¤šå°‘ç§è·³æ³•</li>
  <li>å¯»æ‰¾æœ€å¤§çš„è‘«èŠ¦ æ‰‘å…‹æ¸¸æˆ findHulu</li>
  <li>å°E çš„æ€ªç‰©æŒ‘æˆ˜ maxMonstersDefeated</li>
  <li>æ•°ç»„å…ƒç´ å’Œæœ€å°å’Œ</li>
</ul>
<script>
  // å®ç° æ–æ³¢é‚£å¥‘æ•°åˆ— - é€’å½’å‡½æ•°
  function fibonacci(n) {
    let fibSeries = [0, 1];
    for (let i = 2; i < n; i++) {
      fibSeries[i] = fibSeries[i - 1] + fibSeries[i - 2];
    }
    return fibSeries;
  }

  // console.log(fibonacci(10));

  // é€’å½’æ–¹å¼å®ç°
  function fibonacciRecursive(n) {
    if (n <= 0) {
      return [];
    } else if (n === 1) {
      return [0];
    } else if (n === 2) {
      return [0, 1];
    } else {
      let series = fibonacciRecursive(n - 1);
      series.push(series[series.length - 1] + series[series.length - 2]);
      return series;
    }
  }

  // console.log(fibonacciRecursive(12));

  // é’è›™è·³å°é˜¶é—®é¢˜ n é˜¶
  /**
   * é’è›™è·³å°é˜¶é—®é¢˜
   * @param n
   * @returns {*|number}
   */
  function jumpFloor(n) {
    if (n <= 0) {
      return 0;
    } else if (n === 1) {
      return 1;
    } else if (n === 2) {
      return 2;
    } else {
      return jumpFloor(n - 1) + jumpFloor(n - 2);
    }
  }

  // console.log(jumpFloor(10))
  // å¯»æ‰¾æœ€å¤§çš„è‘«èŠ¦ æ‰‘å…‹æ¸¸æˆ
  /**
   * é—®é¢˜æè¿°
   * åœ¨ä¸€åœºç»å…¸çš„å¾·å·æ‰‘å…‹æ¸¸æˆä¸­ï¼Œæœ‰ä¸€ç§ç‰Œå‹å«åšâ€œè‘«èŠ¦â€ã€‚â€œè‘«èŠ¦â€ç”±äº”å¼ ç‰Œç»„æˆï¼Œå…¶ä¸­åŒ…æ‹¬ä¸‰å¼ ç›¸åŒç‰Œé¢å€¼çš„ç‰Œ
   * a å’Œå¦å¤–ä¸¤å¼ ç›¸åŒç‰Œé¢å€¼çš„ç‰Œã€‚å¦‚æœä¸¤ä¸ªäººåŒæ—¶æ‹¥æœ‰â€œè‘«èŠ¦â€ï¼Œæˆ‘ä»¬ä¼šä¼˜å…ˆæ¯”è¾ƒç‰Œ a çš„å¤§å°ï¼Œè‹¥ç‰Œa ç›¸åŒåˆ™å†æ¯”è¾ƒç‰Œ
   * b çš„å¤§å°ã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯¹â€œè‘«èŠ¦â€å¢åŠ äº†ä¸€ä¸ªé™åˆ¶ï¼šç»„æˆâ€œè‘«èŠ¦â€çš„äº”å¼ ç‰Œç‰Œé¢å€¼ä¹‹å’Œä¸èƒ½è¶…è¿‡ç»™å®šçš„æœ€å¤§å€¼
   * maxã€‚ç‰Œé¢å€¼çš„å¤§å°è§„åˆ™ä¸ºï¼šA > K > Q > J > 10 > 9 > ... > 2ï¼Œå…¶ä¸­ A çš„ç‰Œé¢å€¼ä¸º1ï¼ŒK ä¸º13ï¼Œä¾æ­¤ç±»æ¨ã€‚
   *
   * ç»™å®šä¸€ç»„ç‰Œï¼Œä½ éœ€è¦æ‰¾åˆ°ç¬¦åˆè§„åˆ™çš„æœ€å¤§çš„â€œè‘«èŠ¦â€ç»„åˆï¼Œå¹¶è¾“å‡ºå…¶ä¸­ä¸‰å¼ ç›¸åŒçš„ç‰Œé¢å’Œä¸¤å¼ ç›¸åŒçš„ç‰Œé¢ã€‚
   * å¦‚æœæ‰¾ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„â€œè‘«èŠ¦â€ï¼Œåˆ™è¾“å‡º â€œ0, 0â€ã€‚
   *
   * æµ‹è¯•æ ·ä¾‹
   * è¾“å…¥ï¼šn = 9, max = 34, array = [6, 6, 6, 8, 8, 8, 5, 5, 1]
   * è¾“å‡ºï¼š[8, 5]
   *
   * è¾“å…¥ï¼šn = 9, max = 37, array = [9, 9, 9, 9, 6, 6, 6, 6, 13]
   * è¾“å‡ºï¼š[6, 9]
   *
   * è¾“å…¥ï¼šn = 9, max = 40, array = [1, 11, 13, 12, 7, 8, 11, 5, 6]
   * è¾“å‡ºï¼š[0, 0]
   */

  function  findHulu(n, max, array) {
    if (n < 5 || array.length < 5) {
      return [0, 0];
    }
    //  ç»Ÿè®¡æ¯ä¸ªæ’é¢å€¼å‡ºç°çš„æ¬¡æ•°
    let countMap = new Map();
    // ç®€æ´çš„ä¸€ç§å†™æ³•
    for (let card of array) {
      // countMap[card] = (countMap[card] || 0) + 1;
      countMap.set(card, (countMap.get(card) || 0) + 1);
    }
    // é¢å€¼æ’åº éœ€è¦è€ƒè™‘ A çš„ç‰¹æ®Šæƒ…å†µ 1 ä»£è¡¨ A åº”è¯¥æ’åœ¨æœ€å‰é¢ï¼Œ ä½† è®¡ç®—å€¼æ—¶ éœ€è¦ è½¬æ¢ä¸º 1
    // console.log(countMap.keys());
    let sortedKeys = Array.from(countMap.keys()).map(key => key === 1 ? 14 : key).sort((a, b) => b - a);
    console.log(`countMap:`,countMap, 'sortedKeys',sortedKeys)
    for (let i = 0; i < sortedKeys.length; i++) {
      let key = sortedKeys[i];
      let originalKey = key === 14 ? 1 : key; // è¿˜åŸ Açš„ ç‰¹æ®Šæƒ…å†µ ç”¨äº mas è®¡ç®—æ¯”è¾ƒ
      let count = countMap.get(originalKey);
      // æ‰¾åˆ°æœ€å¤§çš„ä¸‰å¼ ç‰Œ
      if (count >= 3) {
        // æ‰¾åˆ°æœ€å¤§çš„ä¸¤å¼ ç‰Œ
        for (let j = 0; j < sortedKeys.length; j++) {
          if(i !== j) { // é˜²æ­¢ç›¸åŒçš„ç‰Œ
            let key2 = sortedKeys[j];
            let originalKey2 = key2 === 14 ? 1 : key2;
            let count2 = countMap.get(originalKey2);
            if (count2 >=2 && originalKey * 3 + originalKey2 * 2 <= max) {
              return [originalKey, originalKey2];
            }
          }
        }
      }
    }
    // ä¸ç¬¦åˆæ—¶ è¿”å›
    return [0, 0];
  }

  console.log('å¯»æ‰¾æœ€å¤§è‘«èŠ¦é—®é¢˜')
  console.log(findHulu(9, 34, [6, 6, 6, 8, 8, 8, 5, 5, 1])); // [8, 5]
  console.log(findHulu(9, 37, [9, 9, 9, 9, 6, 6, 6, 6, 13])); // [6, 9]
  console.log(findHulu(9, 40, [1, 11, 13, 12, 7, 8, 11, 5, 6])); // [0, 0]
  console.log(findHulu(9, 79, [1, 5, 1, 12, 7, 1, 11, 5, 6])); // [1, 5]

  //  å°E çš„æ€ªç‰©æŒ‘æˆ˜ æ¸¸æˆ
  /**
   * å°Eåœ¨ä¸€ä¸ªæ¸¸æˆä¸­é‡åˆ°äº† n ä¸ªæ€ªç‰©ï¼Œæ¯ä¸ªæ€ªç‰©éƒ½æœ‰å…¶ç‰¹å®šçš„è¡€é‡å€¼hiå’Œæ”»å‡»åŠ›aiã€‚
   * å°Eçš„åˆå§‹è¡€é‡æ˜¯ Hï¼Œ æ”»å‡»åŠ›ä¸º Aã€‚ä»–å¯ä»¥å‡»è´¥å“ªäº› è¡€é‡å’Œæ”»å‡»åŠ› éƒ½å°äº ä»–è‡ªèº«çš„æ€ªç‰©
   * æ¯å‡»è´¥ä¸€ä¸ªæ€ªç‰©åï¼Œå°Eçš„è¡€é‡å’Œæ”»å‡»åŠ›éƒ½ä¼šå˜ä¸ºè¯¥æ€ªç‰©çš„è¡€é‡å€¼å’Œæ”»å‡»åŠ›ã€‚
   * å°Eæƒ³çŸ¥é“ ä»–æœ€å¤šèƒ½å‡»è´¥å¤šå°‘ä¸ªæ€ªç‰©
   *
   *
   *æµ‹è¯•æ ·ä¾‹
   * è¾“å…¥ï¼šn = 3, H = 4, A = 5, h = [1,2,3], a = [3,2,1]
   * è¾“å‡ºï¼š 1
   *
   * è¾“å…¥ï¼šn = 5, H = 10, A = 10, h = [6, 9, 12, 4, 7], a = [8, 9, 10, 2, 5]
   * è¾“å‡ºï¼š3
   *
   * è¾“å…¥ï¼šn = 4, H = 20, A = 25, h = [10, 15, 18, 22], a = [12, 18, 20, 26]
   * è¾“å‡ºï¼š3
   */
  function maxMonstersDefeated(n, H, A, h, a) {
    // è¾“å…¥éªŒè¯
    if (typeof n !== 'number' || n <= 0 || !Array.isArray(h) || !Array.isArray(a) || h.length !== a.length) {
      throw new Error('Invalid input parameters');
    }

    let currentHealth = H;
    let currentAttack = A;
    // å°†æ€ªç‰©æŒ‰ç…§æ”»å‡»åŠ›é™åº(æŒ‰ä¸€ä¸ªçº¬åº¦è¿›è¡Œæ’åº é™åº è¿™æ · æ‰èƒ½ å½¢æˆ å¤§é±¼ åƒå°é±¼ çš„æ•ˆæœ )
    //  ä¸€ç»´åº¦ç›¸åŒ åœ¨æŒ‰ 2ç»´åº¦æ’åº é™åºï¼Œè¿™æ ·å½¢æˆçš„ æœ‰åºé›†åˆ å¯ä»¥ä¿è¯ åè€… æ— æ³• å‡»è´¥å‰è€…
    let monsters = h.map((health, index) => ({ health, attack: a[index] }));
    // monsters.sort((a, b) => b.attack - a.attack || b.health - a.health);
    monsters.sort((a, b) => b.health - a.health || b.attack - a.attack);

    // console.log(monsters)

    let defeatedCount = 0;

    for (let i = 0; i < n; i++) {
      const { health, attack } = monsters[i];

      // å¦‚æœå°Eçš„å½“å‰è¡€é‡å’Œæ”»å‡»åŠ›éƒ½å¤§äºç­‰äºæ€ªç‰©çš„ç›¸åº”å€¼
      if (currentHealth >= health && currentAttack >= attack) {
        // å‡»è´¥æ€ªç‰©å¹¶æ›´æ–°å°Eçš„çŠ¶æ€
        currentHealth = health;
        currentAttack = attack;
        defeatedCount++;
      }
    }

    return defeatedCount;
  }

  // æµ‹è¯•æ ·ä¾‹
  console.log('æœ€å¤šæ¶ˆç­å¤šå°‘æ€ªå…½æ¸¸æˆ')
  console.log(maxMonstersDefeated(3, 4, 5, [1, 2, 3], [3, 2, 1]));  // åº”è¾“å‡º 1
  console.log(maxMonstersDefeated(5, 10, 10, [6, 9, 12, 4, 7], [8, 9, 10, 2, 5]));  // åº”è¾“å‡º 3
  console.log(maxMonstersDefeated(4, 20, 25, [10, 15, 18, 22], [12, 18, 20, 26]));  // åº”è¾“å‡º 3


//   æ•°ç»„å…ƒç´ ä¹‹å’Œæœ€å°
  /**
   * æ„é€ ä¸€ä¸ªæ•°ç»„åŒ…å« n ä¸ªå…ƒç´ ï¼Œä¸”æ»¡è¶³ä»¥ä¸‹æ¡ä»¶
   * æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ä¸¤ä¸¤ä¸åŒ
   * æ•°ç»„æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å…¬çº¦æ•° ä¸º K
   * æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å’Œå°½å¯èƒ½çš„å°
   *
   * è¾“å‡ºè¯¥æ•°ç»„å…ƒç´ ä¹‹å’Œçš„æœ€å°å€¼
   *
   * æµ‹è¯•ç”¨ä¾‹
   * è¾“å…¥: n = 3, k = 1
   * è¾“å‡º: 6
   *
   * è¾“å…¥: n = 2, k = 2
   * è¾“å‡º: 6
   *
   * è¾“å…¥: n = 4, k = 3
   * è¾“å‡º: 30
   */
  function minSum(n, k) {
    let elements = [];
    for(let i = 0; i < n; i++) {
      let candidate = k * (i + 1);
      if(!elements.includes(candidate)) {
        elements.push(candidate);
      }
    }
    return elements.reduce((a, b) => a + b, 0);
  }
  console.log('æ•°ç»„å…ƒç´ ä¹‹å’Œæœ€å°é—®é¢˜')
  console.log(minSum(3, 1) === 6);
  console.log(minSum(2, 2) === 6);
  console.log(minSum(4, 3) === 30);
</script>
</body>
</html>
