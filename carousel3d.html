<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D 图片轮播效果</title>
  <style>
  .carousel{
      /*width: 600px;*/
      height: 300px;
      overflow: hidden;
      position: relative;
  }
  .carousel-list{
      position: relative;
      width: 2400px;
      height: 300px;
      transform: translateX(-600px);
      transition: transform 1s;
      display: flex;
      justify-content: space-between;
      align-items: center;

  }
  .carousel-item{
      width: 600px;
      height: 300px;

      transform: translateX(600px);
  }
  </style>
</head>
<body>
<!--轮播图结构-->
<div class="carousel">
  <div class="carousel-list">
    <img class="carousel-item" src="https://picsum.photos/id/237/600/300" alt="">
    <img class="carousel-item" src="https://picsum.photos/id/238/600/300" alt="">
    <img class="carousel-item" src="https://picsum.photos/id/239/600/300" alt="">
    <img class="carousel-item" src="https://picsum.photos/id/240/600/300" alt="">
    <img class="carousel-item" src="https://picsum.photos/id/241/600/300" alt="">
    <img class="carousel-item" src="https://picsum.photos/id/242/600/300" alt="">
  </div>
  <div class="carousel-arrow carousel-arrow-left">
    <span>&lt;</span>
  </div>
  <div class="carousel-arrow carousel-arrow-right">
    <span>&gt;</span>
  </div>
</div>
<script>
  // 3D 轮播图 计算布局 渲染
  const list = document.querySelector('.carousel-list');
  const items = list.querySelectorAll('.carousel-item');

  // 当前图片
  let currentIndex = 3

  function layout() {
    const xoffsetStep = 100;// 每个轮播图之间的间隔
    const count = items.length;
    const scaleStep = 0.6;
    for (let i = 0; i < items.length; i++) {
      const item = items[i]
      const xoffset = (i - currentIndex) * xoffsetStep;
      const scale = scaleStep ** Math.abs(currentIndex - i);
      //  translateX opcity scale z-index
      item.style.transform = `translateX(${xoffset}px) scale(${scale})`;
      // z-index
      item.style.zIndex = ''+(i === currentIndex ? count : (count - Math.abs(currentIndex - i)));


    }
  }
  layout();
</script>
</body>
</html>